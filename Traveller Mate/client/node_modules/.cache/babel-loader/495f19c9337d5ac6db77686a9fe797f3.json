{"ast":null,"code":"var _jsxFileName = \"/Volumes/backup/traveller_mate/temp/travel-planner-2a0063fe1b3203f7048415f20e708bf3077e5d9c/client/src/components/DisplayList/index.js\";\nimport { set } from 'airport-codes';\nimport React, { useState, useEffect } from 'react';\nimport { Pagination, Accordion } from 'semantic-ui-react';\nimport FlightDetail from '../FlightDetail';\nimport HotelDetail from '../HotelDetail';\nimport FlightMin from '../MinDisplay/FlightMin';\nimport HotelMin from '../MinDisplay/HotelMin';\n\nconst DisplayList = ({\n  contentList,\n  tripsData,\n  tripID,\n  setUserData\n}) => {\n  const [searchOffset, setOffset] = useState(0);\n  const [activeButton, setActive] = useState(1);\n  const [activeIndex, setActiveIndex] = useState(-1);\n  const defaultList = contentList.slice(0, 5);\n  const [toBeDisplayed, setToBeDisplayed] = useState(defaultList);\n  useEffect(() => {\n    setToBeDisplayed(contentList.slice(searchOffset, searchOffset + 5));\n  }, [searchOffset]);\n  useEffect(() => {\n    setOffset(0);\n    setToBeDisplayed(contentList.slice(0, 5));\n  }, [contentList]); // useEffect(()=>{\n  //     console.log(toBeDisplayed);\n  // },[toBeDisplayed]);\n\n  const handlePageClick = (e, {\n    activePage\n  }) => {\n    setActive(activePage);\n    setOffset((activePage - 1) * 5);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"DisplayList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"py-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Accordion, {\n    fluid: true,\n    styled: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 17\n    }\n  }, toBeDisplayed.map((content, index) => {\n    // I've tried switch statement, however, it doesn't seems to detect if the contentList has changed, as in when the contentList is updated, switch statement doesn't update the content\n    // This is important as this display list is reused to display flight & hotel offer that'll be change whenever the user makes a new search or add/remove saved ones\n    switch (content.type) {\n      case \"flight-offer\":\n        return /*#__PURE__*/React.createElement(FlightDetail, {\n          flightResult: content,\n          key: `${content.type}_${content.id}`,\n          activeIndex: activeIndex,\n          setActiveIndex: setActiveIndex,\n          tripID: tripID,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 32\n          }\n        });\n\n      case \"hotel-offers\":\n        return /*#__PURE__*/React.createElement(HotelDetail, {\n          id: index,\n          hotelResult: content,\n          key: `${content.type}_${content.hotel.hotelId}`,\n          activeIndex: activeIndex,\n          setActiveIndex: setActiveIndex,\n          tripID: tripID,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 32\n          }\n        });\n\n      case \"saved-flight\":\n        return /*#__PURE__*/React.createElement(FlightMin, {\n          id: index,\n          savedDetail: content,\n          key: `${content.type}_${content._id}`,\n          activeIndex: activeIndex,\n          setActiveIndex: setActiveIndex,\n          tripsData: tripsData,\n          tripID: tripID,\n          setUserData: setUserData,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 32\n          }\n        });\n\n      case \"saved-hotel\":\n        return /*#__PURE__*/React.createElement(HotelMin, {\n          id: index,\n          savedDetail: content,\n          key: `${content.type}_${content._id}`,\n          activeIndex: activeIndex,\n          setActiveIndex: setActiveIndex,\n          tripsData: tripsData,\n          tripID: tripID,\n          setUserData: setUserData,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 32\n          }\n        });\n\n      default:\n        return /*#__PURE__*/React.createElement(React.Fragment, null);\n    }\n  }))), contentList.length > 5 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Pagination, {\n    activePage: activeButton,\n    onPageChange: handlePageClick,\n    totalPages: Math.ceil(contentList.length / 5),\n    boundaryRange: 0,\n    ellipsisItem: null,\n    firstItem: null,\n    lastItem: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 18\n    }\n  })));\n};\n\nexport default DisplayList;","map":{"version":3,"sources":["/Volumes/backup/traveller_mate/temp/travel-planner-2a0063fe1b3203f7048415f20e708bf3077e5d9c/client/src/components/DisplayList/index.js"],"names":["set","React","useState","useEffect","Pagination","Accordion","FlightDetail","HotelDetail","FlightMin","HotelMin","DisplayList","contentList","tripsData","tripID","setUserData","searchOffset","setOffset","activeButton","setActive","activeIndex","setActiveIndex","defaultList","slice","toBeDisplayed","setToBeDisplayed","handlePageClick","e","activePage","map","content","index","type","id","hotel","hotelId","_id","length","Math","ceil"],"mappings":";AAAA,SAASA,GAAT,QAAoB,eAApB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAAQC,UAAR,EAAoBC,SAApB,QAAoC,mBAApC;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,WAAP,MAAwB,gBAAxB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,QAAP,MAAqB,wBAArB;;AAEA,MAAMC,WAAW,GAAG,CAAC;AAACC,EAAAA,WAAD;AAAcC,EAAAA,SAAd;AAAyBC,EAAAA,MAAzB;AAAiCC,EAAAA;AAAjC,CAAD,KAAkD;AAClE,QAAM,CAACC,YAAD,EAAcC,SAAd,IAA2Bd,QAAQ,CAAC,CAAD,CAAzC;AACA,QAAM,CAACe,YAAD,EAAcC,SAAd,IAA2BhB,QAAQ,CAAC,CAAD,CAAzC;AACA,QAAM,CAACiB,WAAD,EAAaC,cAAb,IAA+BlB,QAAQ,CAAC,CAAC,CAAF,CAA7C;AAEA,QAAMmB,WAAW,GAAGV,WAAW,CAACW,KAAZ,CAAkB,CAAlB,EAAoB,CAApB,CAApB;AACA,QAAM,CAACC,aAAD,EAAeC,gBAAf,IAAmCtB,QAAQ,CAACmB,WAAD,CAAjD;AAEAlB,EAAAA,SAAS,CAAC,MAAI;AACVqB,IAAAA,gBAAgB,CAACb,WAAW,CAACW,KAAZ,CAAkBP,YAAlB,EAA+BA,YAAY,GAAC,CAA5C,CAAD,CAAhB;AACH,GAFQ,EAEP,CAACA,YAAD,CAFO,CAAT;AAGAZ,EAAAA,SAAS,CAAC,MAAI;AACVa,IAAAA,SAAS,CAAC,CAAD,CAAT;AACAQ,IAAAA,gBAAgB,CAACb,WAAW,CAACW,KAAZ,CAAkB,CAAlB,EAAoB,CAApB,CAAD,CAAhB;AACH,GAHQ,EAGP,CAACX,WAAD,CAHO,CAAT,CAXkE,CAgBlE;AACA;AAEA;;AAEA,QAAMc,eAAe,GAAG,CAACC,CAAD,EAAI;AAACC,IAAAA;AAAD,GAAJ,KAAmB;AACvCT,IAAAA,SAAS,CAACS,UAAD,CAAT;AACAX,IAAAA,SAAS,CAAC,CAACW,UAAU,GAAC,CAAZ,IAAe,CAAhB,CAAT;AACH,GAHD;;AAKA,sBACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAE,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,SAAD;AAAW,IAAA,KAAK,MAAhB;AAAiB,IAAA,MAAM,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACHJ,aAAa,CAACK,GAAd,CAAkB,CAACC,OAAD,EAAUC,KAAV,KAAmB;AAClC;AACA;AACA,YAAQD,OAAO,CAACE,IAAhB;AACI,WAAK,cAAL;AACI,4BAAO,oBAAC,YAAD;AAAc,UAAA,YAAY,EAAEF,OAA5B;AAAqC,UAAA,GAAG,EAAG,GAAEA,OAAO,CAACE,IAAK,IAAGF,OAAO,CAACG,EAAG,EAAxE;AACC,UAAA,WAAW,EAAEb,WADd;AAC2B,UAAA,cAAc,EAAEC,cAD3C;AAEC,UAAA,MAAM,EAAEP,MAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;;AAGJ,WAAK,cAAL;AACI,4BAAO,oBAAC,WAAD;AAAa,UAAA,EAAE,EAAEiB,KAAjB;AAAwB,UAAA,WAAW,EAAED,OAArC;AAA8C,UAAA,GAAG,EAAG,GAAEA,OAAO,CAACE,IAAK,IAAGF,OAAO,CAACI,KAAR,CAAcC,OAAQ,EAA5F;AACC,UAAA,WAAW,EAAEf,WADd;AAC2B,UAAA,cAAc,EAAEC,cAD3C;AAEC,UAAA,MAAM,EAAEP,MAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;;AAGJ,WAAK,cAAL;AACI,4BAAO,oBAAC,SAAD;AAAW,UAAA,EAAE,EAAEiB,KAAf;AAAsB,UAAA,WAAW,EAAED,OAAnC;AAA4C,UAAA,GAAG,EAAG,GAAEA,OAAO,CAACE,IAAK,IAAGF,OAAO,CAACM,GAAI,EAAhF;AACC,UAAA,WAAW,EAAEhB,WADd;AAC2B,UAAA,cAAc,EAAEC,cAD3C;AAEC,UAAA,SAAS,EAAER,SAFZ;AAEuB,UAAA,MAAM,EAAEC,MAF/B;AAEuC,UAAA,WAAW,EAAEC,WAFpD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;;AAGJ,WAAK,aAAL;AACI,4BAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAEgB,KAAd;AAAqB,UAAA,WAAW,EAAED,OAAlC;AAA2C,UAAA,GAAG,EAAG,GAAEA,OAAO,CAACE,IAAK,IAAGF,OAAO,CAACM,GAAI,EAA/E;AACP,UAAA,WAAW,EAAEhB,WADN;AACmB,UAAA,cAAc,EAAEC,cADnC;AAEP,UAAA,SAAS,EAAER,SAFJ;AAEe,UAAA,MAAM,EAAEC,MAFvB;AAE+B,UAAA,WAAW,EAAEC,WAF5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;;AAGJ;AACI,4BAAO,yCAAP;AAlBR;AAqBH,GAxBA,CADG,CADJ,CADJ,EA+BEH,WAAW,CAACyB,MAAZ,GAAmB,CAApB,iBACG;AAAK,IAAA,SAAS,EAAE,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACK,oBAAC,UAAD;AACD,IAAA,UAAU,EAAEnB,YADX;AAED,IAAA,YAAY,EAAEQ,eAFb;AAGD,IAAA,UAAU,EAAEY,IAAI,CAACC,IAAL,CAAU3B,WAAW,CAACyB,MAAZ,GAAmB,CAA7B,CAHX;AAID,IAAA,aAAa,EAAE,CAJd;AAKD,IAAA,YAAY,EAAE,IALb;AAMD,IAAA,SAAS,EAAE,IANV;AAOD,IAAA,QAAQ,EAAE,IAPT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADL,CAhCJ,CADJ;AAkDH,CA5ED;;AA8EA,eAAe1B,WAAf","sourcesContent":["import { set } from 'airport-codes';\nimport React, { useState, useEffect } from 'react';\nimport {Pagination, Accordion} from 'semantic-ui-react';\nimport FlightDetail from '../FlightDetail';\nimport HotelDetail from '../HotelDetail';\nimport FlightMin from '../MinDisplay/FlightMin';\nimport HotelMin from '../MinDisplay/HotelMin';\n\nconst DisplayList = ({contentList, tripsData, tripID, setUserData}) =>{\n    const [searchOffset,setOffset] = useState(0);\n    const [activeButton,setActive] = useState(1);\n    const [activeIndex,setActiveIndex] = useState(-1);\n    \n    const defaultList = contentList.slice(0,5);\n    const [toBeDisplayed,setToBeDisplayed] = useState(defaultList);\n\n    useEffect(()=>{\n        setToBeDisplayed(contentList.slice(searchOffset,searchOffset+5));\n    },[searchOffset]);\n    useEffect(()=>{\n        setOffset(0);\n        setToBeDisplayed(contentList.slice(0,5));\n    },[contentList])\n\n    // useEffect(()=>{\n    //     console.log(toBeDisplayed);\n\n    // },[toBeDisplayed]);\n\n    const handlePageClick = (e, {activePage})=>{\n        setActive(activePage);\n        setOffset((activePage-1)*5);\n    }\n\n    return (\n        <div className=\"DisplayList\">\n            <div className={\"py-3\"} >\n                <Accordion fluid styled>\n            {toBeDisplayed.map((content, index) =>{\n                // I've tried switch statement, however, it doesn't seems to detect if the contentList has changed, as in when the contentList is updated, switch statement doesn't update the content\n                // This is important as this display list is reused to display flight & hotel offer that'll be change whenever the user makes a new search or add/remove saved ones\n                switch (content.type) {\n                    case \"flight-offer\":\n                        return <FlightDetail flightResult={content} key={`${content.type}_${content.id}`} \n                                activeIndex={activeIndex} setActiveIndex={setActiveIndex}\n                                tripID={tripID}/>\n                    case \"hotel-offers\":\n                        return <HotelDetail id={index} hotelResult={content} key={`${content.type}_${content.hotel.hotelId}`}\n                                activeIndex={activeIndex} setActiveIndex={setActiveIndex}\n                                tripID={tripID}/>\n                    case \"saved-flight\":\n                        return <FlightMin id={index} savedDetail={content} key={`${content.type}_${content._id}`}\n                                activeIndex={activeIndex} setActiveIndex={setActiveIndex} \n                                tripsData={tripsData} tripID={tripID} setUserData={setUserData}/>\n                    case \"saved-hotel\":\n                        return <HotelMin id={index} savedDetail={content} key={`${content.type}_${content._id}`}\n                        activeIndex={activeIndex} setActiveIndex={setActiveIndex}\n                        tripsData={tripsData} tripID={tripID} setUserData={setUserData}/>\n                    default:\n                        return <></>\n                }\n                \n            })}\n        </Accordion>\n            </div>\n        \n        {(contentList.length>5) && (\n            <div className={\"text-right\"}>\n                 <Pagination\n                activePage={activeButton}\n                onPageChange={handlePageClick}\n                totalPages={Math.ceil(contentList.length/5)}\n                boundaryRange={0}\n                ellipsisItem={null}\n                firstItem={null}\n                lastItem={null}\n            />\n            </div>)\n           \n        }\n        \n       \n    </div>\n    );\n}\n\nexport default DisplayList;"]},"metadata":{},"sourceType":"module"}