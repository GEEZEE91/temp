{"ast":null,"code":"var _jsxFileName = \"/Volumes/backup/traveller_mate/temp/travel-planner-2a0063fe1b3203f7048415f20e708bf3077e5d9c/client/src/components/SingleTrip/index.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { REMOVE_TRIP } from \"../../utils/mutations\";\nimport moment from \"moment\";\nimport FlightSearchForm from \"../FlightSearch\";\nimport HotelSearchForm from \"../HotelSearch\";\nimport DisplayList from \"../DisplayList\";\nimport { Divider, Button } from \"semantic-ui-react\";\n\nconst SingleTrip = ({\n  trip,\n  tripsData,\n  setUserData,\n  amadeus\n}) => {\n  const {\n    _id,\n    title,\n    startDate,\n    endDate,\n    goal,\n    totalCost,\n    flights,\n    hotels\n  } = trip;\n  const [searchResult, setSearchResult] = useState([]);\n  const [isVisible, setVisible] = useState(false);\n  const [removeTrip] = useMutation(REMOVE_TRIP);\n  useEffect(() => {\n    searchResult.length ? setVisible(true) : setVisible(false);\n  }, [searchResult]);\n\n  const handleDeleteTrip = async () => {\n    await removeTrip({\n      variables: {\n        id: _id\n      }\n    });\n    const updatedTrips = tripsData.filter(trip => trip._id !== _id);\n    setUserData({ ...tripsData,\n      trips: updatedTrips\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card text-left my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }\n  }, title), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    circular: true,\n    icon: \"trash\",\n    onClick: handleDeleteTrip,\n    size: \"mini\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 15\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 15\n    }\n  }, \"Duration: \"), `${moment(startDate, \"YYYY MM DD\").format(\"ll\")} to ${moment(endDate, \"YYYY MM DD\").format(\"ll\")}`), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 15\n    }\n  }, \"Total Cost: \"), \" \", totalCost, \" AUD\")), goal ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontWeight: \"bold\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, \"Goals: \"), goal) : /*#__PURE__*/React.createElement(React.Fragment, null)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: hotels.length > 0 ? \"col-12 col-md-6\" : \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, flights.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 19\n    }\n  }, \"Flights:\"), /*#__PURE__*/React.createElement(DisplayList, {\n    contentList: flights,\n    tripsData: tripsData,\n    setUserData: setUserData,\n    tripID: _id,\n    className: \"p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: flights.length > 0 ? \"col-12 col-md-6\" : \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, hotels.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }, \"Hotels:\"), /*#__PURE__*/React.createElement(DisplayList, {\n    contentList: hotels,\n    tripsData: tripsData,\n    setUserData: setUserData,\n    tripID: _id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"cont\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"SV\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }, \"Saved Trip\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"article\", {\n    className: \"card fl-left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"section\", {\n    className: \"date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"time\", {\n    datetime: \"23th feb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 21\n    }\n  }, \"23\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, \"feb\"))), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"card-cont\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"small\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }, \"dj music event\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  }, \"music kaboom festivel\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"even-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-calendar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"time\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 23\n    }\n  }, \"wednesday 28 december 2014\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 23\n    }\n  }, \"08:55pm to 12:00 am\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"even-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-map-marker\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, \"nexen square for people australia, sydney\")), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 19\n    }\n  }, \"booked\"))))), /*#__PURE__*/React.createElement(Divider, {\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 11\n    }\n  }, \"+ Add to your trip\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FlightSearchForm, {\n    amadeus: amadeus,\n    setSearchResult: setSearchResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(HotelSearchForm, {\n    amadeus: amadeus,\n    setSearchResult: setSearchResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  })), isVisible ? /*#__PURE__*/React.createElement(DisplayList, {\n    contentList: searchResult,\n    tripsData: tripsData,\n    setUserData: setUserData,\n    tripID: _id,\n    amadeus: amadeus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null))));\n};\n\nexport default SingleTrip;","map":{"version":3,"sources":["/Volumes/backup/traveller_mate/temp/travel-planner-2a0063fe1b3203f7048415f20e708bf3077e5d9c/client/src/components/SingleTrip/index.js"],"names":["React","useState","useEffect","useMutation","REMOVE_TRIP","moment","FlightSearchForm","HotelSearchForm","DisplayList","Divider","Button","SingleTrip","trip","tripsData","setUserData","amadeus","_id","title","startDate","endDate","goal","totalCost","flights","hotels","searchResult","setSearchResult","isVisible","setVisible","removeTrip","length","handleDeleteTrip","variables","id","updatedTrips","filter","trips","fontWeight","format"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { REMOVE_TRIP } from \"../../utils/mutations\";\nimport moment from \"moment\";\nimport FlightSearchForm from \"../FlightSearch\";\nimport HotelSearchForm from \"../HotelSearch\";\nimport DisplayList from \"../DisplayList\";\nimport { Divider, Button } from \"semantic-ui-react\";\n\nconst SingleTrip = ({ trip, tripsData, setUserData, amadeus }) => {\n  const { _id, title, startDate, endDate, goal, totalCost, flights, hotels } =\n    trip;\n  const [searchResult, setSearchResult] = useState([]);\n  const [isVisible, setVisible] = useState(false);\n\n  const [removeTrip] = useMutation(REMOVE_TRIP);\n\n  useEffect(() => {\n    searchResult.length ? setVisible(true) : setVisible(false);\n  }, [searchResult]);\n\n  const handleDeleteTrip = async () => {\n    await removeTrip({\n      variables: { id: _id },\n    });\n    const updatedTrips = tripsData.filter((trip) => trip._id !== _id);\n    setUserData({ ...tripsData, trips: updatedTrips });\n  };\n\n  return (\n    <>\n      <div className={\"card text-left my-4\"}>\n        <div className={\"card-header\"}>\n          <div className={\"d-flex justify-content-between m-0\"}>\n            <h1>{title}</h1>\n            <div>\n              <Button\n                circular\n                icon=\"trash\"\n                onClick={handleDeleteTrip}\n                size=\"mini\"\n              />\n            </div>\n          </div>\n          <div className={\"d-flex justify-content-between m-0\"}>\n            <div>\n              <span style={{ fontWeight: \"bold\" }}>Duration: </span>\n              {`${moment(startDate, \"YYYY MM DD\").format(\"ll\")} to ${moment(\n                endDate,\n                \"YYYY MM DD\"\n              ).format(\"ll\")}`}\n            </div>\n            <div>\n              <span style={{ fontWeight: \"bold\" }}>Total Cost: </span>{\" \"}\n              {totalCost} AUD\n            </div>\n          </div>\n          {goal ? (\n            <p className={\"pt-2\"}>\n              <span style={{ fontWeight: \"bold\" }}>Goals: </span>\n              {goal}\n            </p>\n          ) : (\n            <></>\n          )}\n        </div>\n        <div className={\"card-body\"}>\n          <div className={\"row\"}>\n            <div className={hotels.length > 0 ? \"col-12 col-md-6\" : \"col-12\"}>\n              {flights.length > 0 && (\n                <>\n                  <h2 className={\"m-0\"}>Flights:</h2>\n                  <DisplayList\n                    contentList={flights}\n                    tripsData={tripsData}\n                    setUserData={setUserData}\n                    tripID={_id}\n                    className={\"p-5\"}\n                  />\n                </>\n              )}\n            </div>\n            <div className={flights.length > 0 ? \"col-12 col-md-6\" : \"col-12\"}>\n              {hotels.length > 0 && (\n                <>\n                  <h2 className={\"m-0\"}>Hotels:</h2>\n                  <DisplayList\n                    contentList={hotels}\n                    tripsData={tripsData}\n                    setUserData={setUserData}\n                    tripID={_id}\n                  />\n                </>\n              )}\n            </div>\n          </div>\n\n          <section className=\"cont\">\n            <h1 className=\"SV\">Saved Trip</h1>\n            <div className=\"row\">\n              <article className=\"card fl-left\">\n                <section className=\"date\">\n                  <time datetime=\"23th feb\">\n                    <span>23</span>\n                    <span>feb</span>\n                  </time>\n                </section>\n                <section className=\"card-cont\">\n                  <small>dj music event</small>\n                  <h3>music kaboom festivel</h3>\n                  <div className=\"even-date\">\n                    <i className=\"fa fa-calendar\"></i>\n                    <time>\n                      <span>wednesday 28 december 2014</span>\n                      <span>08:55pm to 12:00 am</span>\n                    </time>\n                  </div>\n                  <div className=\"even-info\">\n                    <i className=\"fa fa-map-marker\"></i>\n                    <p>nexen square for people australia, sydney</p>\n                  </div>\n                  <a href=\"#\">booked</a>\n                </section>\n              </article>\n            </div>\n          </section>\n\n          <Divider horizontal>+ Add to your trip</Divider>\n          <div className={\"text-center\"}>\n            <FlightSearchForm\n              amadeus={amadeus}\n              setSearchResult={setSearchResult}\n            />\n            <HotelSearchForm\n              amadeus={amadeus}\n              setSearchResult={setSearchResult}\n            />\n          </div>\n\n          {isVisible ? (\n            <DisplayList\n              contentList={searchResult}\n              tripsData={tripsData}\n              setUserData={setUserData}\n              tripID={_id}\n              amadeus={amadeus}\n            />\n          ) : (\n            <></>\n          )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default SingleTrip;\n"]},"metadata":{},"sourceType":"module"}