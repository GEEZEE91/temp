{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\zivko\\\\Music\\\\temp\\\\travel-planner-2a0063fe1b3203f7048415f20e708bf3077e5d9c\\\\client\\\\src\\\\components\\\\SingleTrip\\\\index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useMutation } from '@apollo/react-hooks';\nimport { REMOVE_TRIP } from '../../utils/mutations';\nimport moment from 'moment';\nimport FlightSearchForm from '../FlightSearch';\nimport HotelSearchForm from '../HotelSearch';\nimport DisplayList from '../DisplayList';\nimport { Divider, Button } from 'semantic-ui-react';\n\nconst SingleTrip = ({\n  trip,\n  tripsData,\n  setUserData,\n  amadeus\n}) => {\n  const {\n    _id,\n    title,\n    startDate,\n    endDate,\n    goal,\n    totalCost,\n    flights,\n    hotels\n  } = trip;\n  const [searchResult, setSearchResult] = useState([]);\n  const [isVisible, setVisible] = useState(false);\n  const [removeTrip] = useMutation(REMOVE_TRIP);\n  useEffect(() => {\n    searchResult.length ? setVisible(true) : setVisible(false);\n  }, [searchResult]);\n\n  const handleDeleteTrip = async () => {\n    await removeTrip({\n      variables: {\n        id: _id\n      }\n    });\n    const updatedTrips = tripsData.filter(trip => trip._id !== _id);\n    setUserData({ ...tripsData,\n      trips: updatedTrips\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card text-left my-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 21\n    }\n  }, title), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    circular: true,\n    icon: \"trash\",\n    onClick: handleDeleteTrip,\n    size: \"mini\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex justify-content-between m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 26\n    }\n  }, \"Duration: \"), `${moment(startDate, \"YYYY MM DD\").format(\"ll\")} to ${moment(endDate, \"YYYY MM DD\").format(\"ll\")}`), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 26\n    }\n  }, \"Total Cost: \"), \" \", totalCost, \" AUD\")), goal ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"pt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      fontWeight: 'bold'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 46\n    }\n  }, \"Goals: \"), goal) : /*#__PURE__*/React.createElement(React.Fragment, null)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: hotels.length > 0 ? \"col-12 col-md-6\" : \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, flights.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 29\n    }\n  }, \"Flights:\"), /*#__PURE__*/React.createElement(DisplayList, {\n    contentList: flights,\n    tripsData: tripsData,\n    setUserData: setUserData,\n    tripID: _id,\n    className: \"p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: flights.length > 0 ? \"col-12 col-md-6\" : \"col-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, hotels.length > 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  }, \"Hotels:\"), /*#__PURE__*/React.createElement(DisplayList, {\n    contentList: hotels,\n    tripsData: tripsData,\n    setUserData: setUserData,\n    tripID: _id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 29\n    }\n  })))), /*#__PURE__*/React.createElement(Divider, {\n    horizontal: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, \"+ Add to your trip\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FlightSearchForm, {\n    amadeus: amadeus,\n    setSearchResult: setSearchResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(HotelSearchForm, {\n    amadeus: amadeus,\n    setSearchResult: setSearchResult,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 21\n    }\n  })), isVisible ? /*#__PURE__*/React.createElement(DisplayList, {\n    contentList: searchResult,\n    tripsData: tripsData,\n    setUserData: setUserData,\n    tripID: _id,\n    amadeus: amadeus,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 29\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null))));\n};\n\nexport default SingleTrip;","map":{"version":3,"sources":["C:/Users/zivko/Music/temp/travel-planner-2a0063fe1b3203f7048415f20e708bf3077e5d9c/client/src/components/SingleTrip/index.js"],"names":["React","useState","useEffect","useMutation","REMOVE_TRIP","moment","FlightSearchForm","HotelSearchForm","DisplayList","Divider","Button","SingleTrip","trip","tripsData","setUserData","amadeus","_id","title","startDate","endDate","goal","totalCost","flights","hotels","searchResult","setSearchResult","isVisible","setVisible","removeTrip","length","handleDeleteTrip","variables","id","updatedTrips","filter","trips","fontWeight","format"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport {useMutation} from '@apollo/react-hooks';\nimport {REMOVE_TRIP} from '../../utils/mutations'; \nimport moment from 'moment';\nimport FlightSearchForm from '../FlightSearch';\nimport HotelSearchForm from '../HotelSearch';\nimport DisplayList from '../DisplayList';\nimport {Divider, Button} from 'semantic-ui-react';\n\nconst SingleTrip = ({trip, tripsData, setUserData, amadeus}) => {\n    \n    const {_id,title,startDate,endDate,goal,totalCost,flights, hotels} = trip;\n    const [searchResult, setSearchResult] = useState([]);\n    const [isVisible, setVisible] = useState(false);\n\n    const [removeTrip] = useMutation(REMOVE_TRIP);\n\n    useEffect(()=>{\n      (searchResult.length)? setVisible(true): setVisible(false)\n    },[searchResult]);\n\n    const handleDeleteTrip= async()=>{\n        await removeTrip({\n            variables: {id:_id}\n        })\n        const updatedTrips = tripsData.filter(trip => trip._id !== _id );\n        setUserData({...tripsData, trips: updatedTrips});\n    }\n    \n    return (\n        <>\n        <div className={\"card text-left my-4\"}>\n            <div className={\"card-header\"}>\n                <div className={\"d-flex justify-content-between m-0\"}>\n                    <h1>{title}</h1>\n                    <div>\n                        <Button circular icon='trash' onClick={handleDeleteTrip}  size='mini'/>\n                    </div>\n                </div>\n                <div className={\"d-flex justify-content-between m-0\"}>\n                    <div><span style={{fontWeight: 'bold'}}>Duration: </span>{`${moment(startDate,\"YYYY MM DD\").format(\"ll\")} to ${moment(endDate,\"YYYY MM DD\").format(\"ll\")}`}</div>\n                    <div><span style={{fontWeight: 'bold'}}>Total Cost: </span> {totalCost} AUD</div>\n                </div>\n                {goal? <p className={\"pt-2\"}><span style={{fontWeight: 'bold'}}>Goals: </span>{goal}</p>:<></>}\n                \n            </div>\n            <div className={\"card-body\"}>\n                <div className={\"row\"}>\n                    <div className={(hotels.length>0) ? \"col-12 col-md-6\":\"col-12\"}>\n                        {(flights.length>0) &&\n                        <>\n                            <h2 className={\"m-0\"}>Flights:</h2>\n                            <DisplayList contentList={flights} tripsData={tripsData} setUserData={setUserData} tripID={_id} className={\"p-5\"}/>\n                        </>}\n                    </div>\n                    <div className={(flights.length>0) ? \"col-12 col-md-6\":\"col-12\"}>\n                        {(hotels.length>0) &&\n                        <>\n\n                            <h2 className={\"m-0\"}>Hotels:</h2>\n                            <DisplayList contentList={hotels} tripsData={tripsData} setUserData={setUserData} tripID={_id}/>\n                        </>}\n                    </div>\n                </div>\n\n                \n                \n                <Divider horizontal>+ Add to your trip</Divider>\n                <div className={\"text-center\"}>\n                    <FlightSearchForm amadeus={amadeus} setSearchResult={setSearchResult}/>\n                    <HotelSearchForm amadeus={amadeus} setSearchResult={setSearchResult}/>\n                </div>\n                \n\n                {isVisible?(<DisplayList contentList={searchResult} tripsData={tripsData} setUserData={setUserData} tripID={_id} amadeus={amadeus} />):(<></>)}\n            </div>\n        </div>\n        \n        </>\n    )\n}\n\nexport default SingleTrip"]},"metadata":{},"sourceType":"module"}